--- 
layout: post
title: "Bug de Javascript sous IE n\xC2\xB020313"
published: true
meta: 
  _edit_last: "1"
tags: 
- Bug
- "D\xC3\xA9faut"
- IE
type: post
status: publish
---
À défaut de faire de la pub pour un logiciel libre (ce que j'aimerais continuer d'ici peu) je vais une fois de plus me défouler sur IE. Après un problème de <a href="/blog/post/2009/02/03/Bug-de-CSS-sous-IE-n20312">CSS</a>, voici une n-ème merveille en provenance de Redmond.

C'est en voulant surveiller le changement de valeur d'un groupe de bouton radio que je me suis rendu compte de ce <a hreflang="en" href="http://www.quirksmode.org/dom/events/change.html">"serious bug"</a>
<blockquote>IE fires the event when the checkbox or radio is blurred, and not when it is activated. This is a serious bug that requires the user to take another action and prevents a consistent cross-browser interface based on the change event on checkboxes and radios.</blockquote>
(<a hreflang="en" href="http://www.quirksmode.org/dom/events/change.html">Quirksmode.org</a>)

Concrètement l'évènement "change" n'est pas levé lorsqu'on clique sur un checkbox/radio mais lors d'un second clic sur un endroit quelconque de la page (correspond à l'évènement onBlur)

Le code était pourtant simple :
<pre lang="javascript">$('.options input', context).change (function () {
// Do some stuff
});</pre>
La solution la plus simple est donc de déclencher manuellement les évènement change lors d'un click
<pre lang="javascript">$('.options input, .options label', context)
    .click (function () {$(this).change();});</pre>
Encore une merveille d'IE qu'il est bon de connaître avant de perdre quelques cheveux.

Aller, je retourne m'attaquer au hasLayout, inline-bloc &amp; co... sous IE bien sûr
